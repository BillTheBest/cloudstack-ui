<cs-top-bar></cs-top-bar>
<div class="padding">
  <div *ngIf="language">
    <h4 class="no-margin">{{ 'LANGUAGE' | translate }}</h4>
    <mdl-select
      [(ngModel)]="language"
      (change)="changeLanguage($event)"
    >
      <mdl-option [value]="'en'">English</mdl-option>
      <mdl-option [value]="'ru'">Русский</mdl-option>
    </mdl-select>
  </div>
  <div *ngIf="firstDayOfWeek != null">
    <h4 class="no-margin">{{ 'FIRST_DAY_OF_WEEK' | translate }}</h4>
    <mdl-select
      [ngModel]="firstDayOfWeek"
      [disabled]="updatingFirstDayOfWeek"
      (change)="firstDayOfWeekChange($event)"
    >
      <mdl-option [value]="0">{{ 'SUNDAY' | translate }}</mdl-option>
      <mdl-option [value]="1">{{ 'MONDAY' | translate }}</mdl-option>
    </mdl-select>
  </div>
  <div>
    <h4>{{ 'PALETTE' | translate }}</h4>
    <div>
      <cs-color-picker
        *ngIf="primaryColor"
        [selectedColor]="primaryColor"
        [colorList]="primaryColors"
        (onColorChanged)="updatePrimaryColor($event)"
      ></cs-color-picker>
    </div>
    <div>
      <cs-color-picker
        *ngIf="accentColor"
        [selectedColor]="accentColor"
        [colorList]="accentColors"
        (onColorChanged)="updateAccentColor($event)"
      ></cs-color-picker>
    </div>
  </div>
  <form (ngSubmit)="updatePassword()" [formGroup]="passwordUpdateForm" novalidate>
    <h4>{{ 'CHANGE_PASSWORD' | translate }}</h4>
    <mdl-textfield
      required
      type="password"
      label="{{ 'NEW_PASSWORD' | translate }}"
      formControlName="password"
      floating-label
      required
    ></mdl-textfield>
    <br>
    <mdl-textfield
      required
      type="password"
      label="{{ 'REPEAT_PASSWORD' | translate }}"
      formControlName="passwordRepeat"
      floating-label
    ></mdl-textfield>
    <br>
    <div class="password-change-button">
      <button
        type="submit"
        mdl-button
        [disabled]="!passwordUpdateForm.valid"
      >
        {{ 'UPDATE' | translate }}
      </button>
    </div>
  </form>
</div>
