<ng-container cs-panels>
  <cs-top-bar>
    <cs-filter
      (onModeChange)="changeMode($event)"
      [key]="key"
    >
      <cs-template-filters
        class="options"
        (queries)="filterResults($event)"
        (filters)="filterResults($event)"
        (displayMode)="changeViewMode($event)"
        [showIso]="viewMode === 'Iso'"
        [showDelimiter]="showDelimiter"
        [searchPanelWhite]="selectedGroupings?.length"
        [availableGroupings]="groupings"
      ></cs-template-filters>
    </cs-filter>
  </cs-top-bar>
</ng-container>

<ng-container *loading="!templateList?.length" cs-list>
  <cs-template-card-list
    *loading="fetching"
    class="template-list"
    [query]="query"
    [templateList]="visibleTemplateList"
    [groupings]="selectedGroupings"
    [mode]="mode"
  >
  </cs-template-card-list>
</ng-container>

<cs-no-results *ngIf="!visibleTemplateList?.length && !fetching"></cs-no-results>
