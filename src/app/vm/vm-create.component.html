<mdl-dialog
  #vmCreateDialog
  id="vmCreateDialog"
  name="vmCreateDialog"
  [mdl-dialog-config]="{
    openFrom: vmCreateButton,
    clickOutsideToClose: true,
    styles: {'width': '780px'},
    isModal: true,
    enterTransitionDuration: 400,
    leaveTransitionDuration: 400
  }"
>
  <h5 class="form-title">New virtual machine</h5>
  <div class="container">
    <div class="left-column">
      <div>
        <mdl-textfield
          type="text"
          label="{{ 'VM_CREATION_FORM.NAME' | translate }}"
          id="name"
          name="name"
          [(ngModel)]="name">
        </mdl-textfield>
      </div>
      <div>
        <mdl-textfield
          type="text"
          label="{{ 'VM_CREATION_FORM.DESCRIPTION' | translate }}"
          id="description"
          name="description"
          [(ngModel)]="description">
        </mdl-textfield>
      </div>
      <div>
        <mdl-textfield
          [disabled]="true"
          type="text"
          label="{{ 'VM_CREATION_FORM.TEMPLATE' | translate }}"
          id="template"
          name="template"
          [(ngModel)]="template">
        </mdl-textfield>
      </div>
      <h5>{{ 'VM_CREATION_FORM.SERVICE_OFFERING' | translate }}</h5>
      <div>
        <mdl-select [(ngModel)]="serviceOfferingId">
          <mdl-option *ngFor="let so of serviceOfferings" [value]="so.id" >{{so.name}}</mdl-option>
        </mdl-select>
      </div>
      <h5>{{ 'VM_CREATION_FORM.ZONE' | translate }}</h5>
      <div>
        <mdl-select [(ngModel)]="zoneId">
          <mdl-option *ngFor="let z of zones" [value]="z.id" >{{z.name}}</mdl-option>
        </mdl-select>
      </div>
      <div class="root-disk-size">
        <h5 class="root-disk-size-header">{{ 'VM_CREATION_FORM.ROOT_DISK_SIZE' | translate }}</h5>
        <h5 class="root-disk-size-limit">{{rootDiskSize >= 10 ? rootDiskSize + ' GB' : 'Auto'}}</h5>
      </div>
      <div class="root-disk-size-slider">
        <mdl-slider
          max="{{rootDiskSizeLimit || 10}}"
          id="rootDiskSize"
          name="rootDiskSize"
          value="9"
          [(ngModel)]="rootDiskSize"
          mdl-tooltip-position="top"
          min="9"
        >
        </mdl-slider>
      </div>
    </div>
    <div class="right-column">
      <h5>{{ 'VM_CREATION_FORM.AFFINITY_GROUPS' | translate }}</h5>
      <div>
        <mdl-select [(ngModel)]="affinityGroupId">
          <mdl-option [value]="-1">{{'NO_AFFINITY_GROUP' | translate}}</mdl-option>
          <mdl-option *ngFor="let ag of affinityGroups" [value]="ag.id" >{{ag.name}}</mdl-option>
        </mdl-select>
      </div>
      <div>
        <h5 class="security-groups-header">{{ 'VM_CREATION_FORM.SECURITY_GROUPS' | translate }}</h5>
        <button mdl-button mdl-ripple class="security-group-create-button">Create</button>
        <!-- vvv placeholder for security group templates vvv -->
        <div class="network-security-info">Based on security group 1, security group 2, etc.</div>
      </div>
      <h5>{{ 'VM_CREATION_FORM.KEYBOARD_LAYOUT' | translate }}</h5>
      <div>
        <mdl-select [(ngModel)]="keyboard">
          <mdl-option *ngFor="let k of keyboards" [value]="k">{{ ('KB_' + k.toUpperCase()) | translate }}</mdl-option>
        </mdl-select>
      </div>
      <h5>{{ 'VM_CREATION_FORM.SSH_KEYPAIR' | translate }}</h5>
      <div>
        <mdl-select [(ngModel)]="sshId">
          <mdl-option *ngFor="let k of sshKeyPairs" [value]="k.name">{{k.name}}</mdl-option>
        </mdl-select>
      </div>
      <div class="start-vm-checkbox">
        <mdl-checkbox [(ngModel)]="doStartVm">
          {{ 'VM_CREATION_FORM.START_VM' | translate }}
        </mdl-checkbox>
      </div>
    </div>
  </div>
  <div class="mdl-dialog__actions">
    <button mdl-button (click)="deployVm(); vmCreateDialog.close();" mdl-ripple>{{ 'CONFIRM' | translate }}</button>
    <button mdl-button (click)="vmCreateDialog.close()" mdl-ripple>{{ 'CANCEL' | translate }}</button>
  </div>
</mdl-dialog>


